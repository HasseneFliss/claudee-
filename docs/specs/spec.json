{
  "content": "{\n  \"openApiSpec\": {\n    \"openapi\": \"3.0.0\",\n    \"info\": {\n      \"title\": \"E-commerce Frontend API\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Complete API specification for responsive e-commerce frontend with product management, search, filtering and UI components\"\n    },\n    \"servers\": [{\"url\": \"/api/v1\"}],\n    \"paths\": {\n      \"/products\": {\n        \"get\": {\n          \"summary\": \"Get paginated products with filtering and sorting\",\n          \"tags\": [\"Products\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"page\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 1, \"minimum\": 1}},\n            {\"name\": \"limit\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 20, \"minimum\": 1, \"maximum\": 100}},\n            {\"name\": \"category\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}},\n            {\"name\": \"minPrice\", \"in\": \"query\", \"schema\": {\"type\": \"number\", \"minimum\": 0}},\n            {\"name\": \"maxPrice\", \"in\": \"query\", \"schema\": {\"type\": \"number\", \"minimum\": 0}},\n            {\"name\": \"minRating\", \"in\": \"query\", \"schema\": {\"type\": \"number\", \"minimum\": 0, \"maximum\": 5}},\n            {\"name\": \"sortBy\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"price\", \"rating\", \"name\", \"created_at\", \"popularity\"]}},\n            {\"name\": \"sortOrder\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"asc\", \"desc\"], \"default\": \"desc\"}},\n            {\"name\": \"search\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}},\n            {\"name\": \"inStock\", \"in\": \"query\", \"schema\": {\"type\": \"boolean\"}},\n            {\"name\": \"brand\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}},\n            {\"name\": \"tags\", \"in\": \"query\", \"schema\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Products retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Product\"}},\n                      \"pagination\": {\"$ref\": \"#/components/schemas/Pagination\"},\n                      \"filters\": {\"$ref\": \"#/components/schemas/FilterSummary\"}\n                    }\n                  }\n                }\n              }\n            },\n            \"400\": {\"$ref\": \"#/components/responses/BadRequest\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/products/{productId}\": {\n        \"get\": {\n          \"summary\": \"Get single product details\",\n          \"tags\": [\"Products\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"productId\", \"in\": \"path\", \"required\": true, \"schema\": {\"type\": \"string\", \"format\": \"uuid\"}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Product details retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\"$ref\": \"#/components/schemas/ProductDetail\"}\n                }\n              }\n            },\n            \"404\": {\"$ref\": \"#/components/responses/NotFound\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/products/featured\": {\n        \"get\": {\n          \"summary\": \"Get featured products for homepage\",\n          \"tags\": [\"Products\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"limit\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 10, \"minimum\": 1, \"maximum\": 50}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Featured products retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Product\"}}\n                    }\n                  }\n                }\n              }\n            },\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/categories\": {\n        \"get\": {\n          \"summary\": \"Get all product categories\",\n          \"tags\": [\"Categories\"],\n          \"security\": [],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Categories retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Category\"}}\n                    }\n                  }\n                }\n              }\n            },\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/categories/{categoryId}/products\": {\n        \"get\": {\n          \"summary\": \"Get products by category\",\n          \"tags\": [\"Categories\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"categoryId\", \"in\": \"path\", \"required\": true, \"schema\": {\"type\": \"string\", \"format\": \"uuid\"}},\n            {\"name\": \"page\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 1, \"minimum\": 1}},\n            {\"name\": \"limit\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 20, \"minimum\": 1, \"maximum\": 100}},\n            {\"name\": \"sortBy\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"price\", \"rating\", \"name\", \"created_at\"]}},\n            {\"name\": \"sortOrder\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"asc\", \"desc\"], \"default\": \"desc\"}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Category products retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Product\"}},\n                      \"pagination\": {\"$ref\": \"#/components/schemas/Pagination\"},\n                      \"category\": {\"$ref\": \"#/components/schemas/Category\"}\n                    }\n                  }\n                }\n              }\n            },\n            \"404\": {\"$ref\": \"#/components/responses/NotFound\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/search\": {\n        \"get\": {\n          \"summary\": \"Search products with instant suggestions\",\n          \"tags\": [\"Search\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"q\", \"in\": \"query\", \"required\": true, \"schema\": {\"type\": \"string\", \"minLength\": 1}},\n            {\"name\": \"page\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 1, \"minimum\": 1}},\n            {\"name\": \"limit\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 20, \"minimum\": 1, \"maximum\": 100}},\n            {\"name\": \"category\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}},\n            {\"name\": \"sortBy\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"relevance\", \"price\", \"rating\", \"name\"], \"default\": \"relevance\"}},\n            {\"name\": \"sortOrder\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"asc\", \"desc\"], \"default\": \"desc\"}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Search results retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Product\"}},\n                      \"pagination\": {\"$ref\": \"#/components/schemas/Pagination\"},\n                      \"query\": {\"type\": \"string\"},\n                      \"totalResults\": {\"type\": \"integer\"},\n                      \"searchTime\": {\"type\": \"number\"}\n                    }\n                  }\n                }\n              }\n            },\n            \"400\": {\"$ref\": \"#/components/responses/BadRequest\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/search/suggestions\": {\n        \"get\": {\n          \"summary\": \"Get instant search suggestions\",\n          \"tags\": [\"Search\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"q\", \"in\": \"query\", \"required\": true, \"schema\": {\"type\": \"string\", \"minLength\": 2}},\n            {\"name\": \"limit\", \"in\": \"query\", \"schema\": {\"type\": \"integer\", \"default\": 10, \"minimum\": 1, \"maximum\": 20}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Search suggestions retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"suggestions\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/SearchSuggestion\"}},\n                      \"query\": {\"type\": \"string\"}\n                    }\n                  }\n                }\n              }\n            },\n            \"400\": {\"$ref\": \"#/components/responses/BadRequest\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/banners\": {\n        \"get\": {\n          \"summary\": \"Get homepage banners\",\n          \"tags\": [\"Content\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"active\", \"in\": \"query\", \"schema\": {\"type\": \"boolean\", \"default\": true}},\n            {\"name\": \"position\", \"in\": \"query\", \"schema\": {\"type\": \"string\", \"enum\": [\"hero\", \"secondary\", \"sidebar\"]}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Banners retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Banner\"}}\n                    }\n                  }\n                }\n              }\n            },\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/brands\": {\n        \"get\": {\n          \"summary\": \"Get all product brands\",\n          \"tags\": [\"Brands\"],\n          \"security\": [],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Brands retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"data\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Brand\"}}\n                    }\n                  }\n                }\n              }\n            },\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/filters\": {\n        \"get\": {\n          \"summary\": \"Get available filters for products\",\n          \"tags\": [\"Filters\"],\n          \"security\": [],\n          \"parameters\": [\n            {\"name\": \"category\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}},\n            {\"name\": \"search\", \"in\": \"query\", \"schema\": {\"type\": \"string\"}}\n          ],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Filters retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\"$ref\": \"#/components/schemas/FilterOptions\"}\n                }\n              }\n            },\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/user/preferences\": {\n        \"get\": {\n          \"summary\": \"Get user display preferences\",\n          \"tags\": [\"User\"],\n          \"security\": [{\"bearerAuth\": []}],\n          \"responses\": {\n            \"200\": {\n              \"description\": \"User preferences retrieved successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\"$ref\": \"#/components/schemas/UserPreferences\"}\n                }\n              }\n            },\n            \"401\": {\"$ref\": \"#/components/responses/Unauthorized\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        },\n        \"put\": {\n          \"summary\": \"Update user display preferences\",\n          \"tags\": [\"User\"],\n          \"security\": [{\"bearerAuth\": []}],\n          \"requestBody\": {\n            \"required\": true,\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\"$ref\": \"#/components/schemas/UserPreferencesUpdate\"}\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"User preferences updated successfully\",\n              \"content\": {\n                \"application/json\": {\n                  \"schema\": {\"$ref\": \"#/components/schemas/UserPreferences\"}\n                }\n              }\n            },\n            \"400\": {\"$ref\": \"#/components/responses/BadRequest\"},\n            \"401\": {\"$ref\": \"#/components/responses/Unauthorized\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      },\n      \"/analytics/track\": {\n        \"post\": {\n          \"summary\": \"Track user interactions for analytics\",\n          \"tags\": [\"Analytics\"],\n          \"security\": [],\n          \"requestBody\": {\n            \"required\": true,\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\"$ref\": \"#/components/schemas/AnalyticsEvent\"}\n              }\n            }\n          },\n          \"responses\": {\n            \"202\": {\n              \"description\": \"Event tracked successfully\"\n            },\n            \"400\": {\"$ref\": \"#/components/responses/BadRequest\"},\n            \"500\": {\"$ref\": \"#/components/responses/InternalServerError\"}\n          }\n        }\n      }\n    },\n    \"components\": {\n      \"schemas\": {\n        \"Product\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"name\", \"price\", \"imageUrl\", \"category\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"name\": {\"type\": \"string\", \"minLength\": 1, \"maxLength\": 255},\n            \"description\": {\"type\": \"string\", \"maxLength\": 1000},\n            \"price\": {\"type\": \"number\", \"minimum\": 0},\n            \"originalPrice\": {\"type\": \"number\", \"minimum\": 0},\n            \"discount\": {\"type\": \"number\", \"minimum\": 0, \"maximum\": 100},\n            \"currency\": {\"type\": \"string\", \"default\": \"USD\", \"maxLength\": 3},\n            \"imageUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"imageUrls\": {\"type\": \"array\", \"items\": {\"type\": \"string\", \"format\": \"uri\"}},\n            \"category\": {\"$ref\": \"#/components/schemas/Category\"},\n            \"brand\": {\"$ref\": \"#/components/schemas/Brand\"},\n            \"rating\": {\"type\": \"number\", \"minimum\": 0, \"maximum\": 5},\n            \"reviewCount\": {\"type\": \"integer\", \"minimum\": 0},\n            \"inStock\": {\"type\": \"boolean\"},\n            \"stockCount\": {\"type\": \"integer\", \"minimum\": 0},\n            \"tags\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}},\n            \"featured\": {\"type\": \"boolean\"},\n            \"createdAt\": {\"type\": \"string\", \"format\": \"date-time\"},\n            \"updatedAt\": {\"type\": \"string\", \"format\": \"date-time\"}\n          }\n        },\n        \"ProductDetail\": {\n          \"allOf\": [\n            {\"$ref\": \"#/components/schemas/Product\"},\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"specifications\": {\"type\": \"object\", \"additionalProperties\": {\"type\": \"string\"}},\n                \"variants\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/ProductVariant\"}},\n                \"reviews\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/ProductReview\"}},\n                \"relatedProducts\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/Product\"}}\n              }\n            }\n          ]\n        },\n        \"ProductVariant\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"name\", \"price\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"name\": {\"type\": \"string\"},\n            \"price\": {\"type\": \"number\", \"minimum\": 0},\n            \"sku\": {\"type\": \"string\"},\n            \"attributes\": {\"type\": \"object\", \"additionalProperties\": {\"type\": \"string\"}},\n            \"inStock\": {\"type\": \"boolean\"},\n            \"stockCount\": {\"type\": \"integer\", \"minimum\": 0}\n          }\n        },\n        \"ProductReview\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"rating\", \"comment\", \"userName\", \"createdAt\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"rating\": {\"type\": \"integer\", \"minimum\": 1, \"maximum\": 5},\n            \"comment\": {\"type\": \"string\", \"maxLength\": 1000},\n            \"userName\": {\"type\": \"string\"},\n            \"verified\": {\"type\": \"boolean\"},\n            \"helpful\": {\"type\": \"integer\", \"minimum\": 0},\n            \"createdAt\": {\"type\": \"string\", \"format\": \"date-time\"}\n          }\n        },\n        \"Category\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"name\", \"slug\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"name\": {\"type\": \"string\", \"minLength\": 1, \"maxLength\": 100},\n            \"slug\": {\"type\": \"string\", \"pattern\": \"^[a-z0-9-]+$\"},\n            \"description\": {\"type\": \"string\", \"maxLength\": 500},\n            \"imageUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"parentId\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"productCount\": {\"type\": \"integer\", \"minimum\": 0},\n            \"featured\": {\"type\": \"boolean\"},\n            \"sortOrder\": {\"type\": \"integer\", \"minimum\": 0}\n          }\n        },\n        \"Brand\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"name\", \"slug\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"name\": {\"type\": \"string\", \"minLength\": 1, \"maxLength\": 100},\n            \"slug\": {\"type\": \"string\", \"pattern\": \"^[a-z0-9-]+$\"},\n            \"description\": {\"type\": \"string\", \"maxLength\": 500},\n            \"logoUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"websiteUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"productCount\": {\"type\": \"integer\", \"minimum\": 0}\n          }\n        },\n        \"Banner\": {\n          \"type\": \"object\",\n          \"required\": [\"id\", \"title\", \"imageUrl\", \"position\"],\n          \"properties\": {\n            \"id\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"title\": {\"type\": \"string\", \"minLength\": 1, \"maxLength\": 200},\n            \"subtitle\": {\"type\": \"string\", \"maxLength\": 300\"},\n            \"description\": {\"type\": \"string\", \"maxLength\": 500},\n            \"imageUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"mobileImageUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"linkUrl\": {\"type\": \"string\", \"format\": \"uri\"},\n            \"linkText\": {\"type\": \"string\", \"maxLength\": 50},\n            \"position\": {\"type\": \"string\", \"enum\": [\"hero\", \"secondary\", \"sidebar\"]},\n            \"active\": {\"type\": \"boolean\"},\n            \"startDate\": {\"type\": \"string\", \"format\": \"date-time\"},\n            \"endDate\": {\"type\": \"string\", \"format\": \"date-time\"},\n            \"sortOrder\": {\"type\": \"integer\", \"minimum\": 0}\n          }\n        },\n        \"SearchSuggestion\": {\n          \"type\": \"object\",\n          \"required\": [\"text\", \"type\"],\n          \"properties\": {\n            \"text\": {\"type\": \"string\"},\n            \"type\": {\"type\": \"string\", \"enum\": [\"product\", \"category\", \"brand\", \"query\"]},\n            \"count\": {\"type\": \"integer\", \"minimum\": 0},\n            \"imageUrl\": {\"type\": \"string\", \"format\": \"uri\"}\n          }\n        },\n        \"FilterOptions\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"categories\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/FilterOption\"}},\n            \"brands\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/FilterOption\"}},\n            \"priceRange\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"min\": {\"type\": \"number\", \"minimum\": 0},\n                \"max\": {\"type\": \"number\", \"minimum\": 0}\n              }\n            },\n            \"ratings\": {\"type\": \"array\", \"items\": {\"type\": \"integer\", \"minimum\": 1, \"maximum\": 5\"}},\n            \"tags\": {\"type\": \"array\", \"items\": {\"$ref\": \"#/components/schemas/FilterOption\"}},\n            \"availability\": {\"type\": \"array\", \"items\": {\"type\": \"string\", \"enum\": [\"in_stock\", \"out_of_stock\"]}}\n          }\n        },\n        \"FilterOption\": {\n          \"type\": \"object\",\n          \"required\": [\"value\", \"label\", \"count\"],\n          \"properties\": {\n            \"value\": {\"type\": \"string\"},\n            \"label\": {\"type\": \"string\"},\n            \"count\": {\"type\": \"integer\", \"minimum\": 0}\n          }\n        },\n        \"FilterSummary\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"totalProducts\": {\"type\": \"integer\", \"minimum\": 0},\n            \"appliedFilters\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"category\": {\"type\": \"string\"},\n                \"brand\": {\"type\": \"string\"},\n                \"minPrice\": {\"type\": \"number\"},\n                \"maxPrice\": {\"type\": \"number\"},\n                \"minRating\": {\"type\": \"number\"},\n                \"inStock\": {\"type\": \"boolean\"},\n                \"tags\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}\n              }\n            }\n          }\n        },\n        \"UserPreferences\": {\n          \"type\": \"object\",\n          \"required\": [\"userId\", \"viewMode\"],\n          \"properties\": {\n            \"userId\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"viewMode\": {\"type\": \"string\", \"enum\": [\"grid\", \"list\"], \"default\": \"grid\"},\n            \"itemsPerPage\": {\"type\": \"integer\", \"enum\": [20, 40, 60], \"default\": 20},\n            \"defaultSort\": {\"type\": \"string\", \"enum\": [\"price\", \"rating\", \"name\", \"created_at\"], \"default\": \"created_at\"},\n            \"defaultSortOrder\": {\"type\": \"string\", \"enum\": [\"asc\", \"desc\"], \"default\": \"desc\"},\n            \"savedFilters\": {\"type\": \"object\", \"additionalProperties\": true},\n            \"currency\": {\"type\": \"string\", \"default\": \"USD\", \"maxLength\": 3}\n          }\n        },\n        \"UserPreferencesUpdate\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"viewMode\": {\"type\": \"string\", \"enum\": [\"grid\", \"list\"]},\n            \"itemsPerPage\": {\"type\": \"integer\", \"enum\": [20, 40, 60]},\n            \"defaultSort\": {\"type\": \"string\", \"enum\": [\"price\", \"rating\", \"name\", \"created_at\"]},\n            \"defaultSortOrder\": {\"type\": \"string\", \"enum\": [\"asc\", \"desc\"]},\n            \"savedFilters\": {\"type\": \"object\", \"additionalProperties\": true},\n            \"currency\": {\"type\": \"string\", \"maxLength\": 3}\n          }\n        },\n        \"AnalyticsEvent\": {\n          \"type\": \"object\",\n          \"required\": [\"eventType\", \"timestamp\"],\n          \"properties\": {\n            \"eventType\": {\"type\": \"string\", \"enum\": [\"page_view\", \"product_view\", \"search\", \"filter_apply\", \"sort_change\", \"view_toggle\", \"click\"]},\n            \"timestamp\": {\"type\": \"string\", \"format\": \"date-time\"},\n            \"userId\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"sessionId\": {\"type\": \"string\"},\n            \"productId\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"categoryId\": {\"type\": \"string\", \"format\": \"uuid\"},\n            \"searchQuery\": {\"type\": \"string\"},\n            \"filters\": {\"type\": \"object\", \"additionalProperties\": true},\n            \"sortBy\": {\"type\": \"string\"},\n            \"viewMode\": {\"type\": \"string\"},\n            \"deviceType\": {\"type\": \"string\", \"enum\": [\"mobile\", \"tablet\", \"desktop\"]},\n            \"metadata\": {\"type\": \"object\", \"additionalProperties\": true}\n          }\n        },\n        \"Pagination\": {\n          \"type\": \"object\",\n          \"required\": [\"page\", \"limit\", \"total\", \"totalPages\"],\n          \"properties\": {\n            \"page\": {\"type\": \"integer\", \"minimum\": 1},\n            \"limit\": {\"type\": \"integer\", \"minimum\": 1},\n            \"total\": {\"type\": \"integer\", \"minimum\": 0},\n            \"totalPages\": {\"type\": \"integer\", \"minimum\": 0},\n            \"hasNext\": {\"type\": \"boolean\"},\n            \"hasPrev\": {\"type\": \"boolean\"}\n          }\n        },\n        \"Error\": {\n          \"type\": \"object\",\n          \"required\": [\"error\", \"message\"],\n          \"properties\": {\n            \"error\": {\"type\": \"string\"},\n            \"message\": {\"type\": \"string\"},\n            \"details\": {\"type\": \"object\", \"additionalProperties\": true}\n          }\n        }\n      },\n      \"securitySchemes\": {\n        \"bearerAuth\": {\n          \"type\": \"http\",\n          \"scheme\": \"bearer\",\n          \"bearerFormat\": \"JWT\"\n        }\n      },\n      \"responses\": {\n        \"BadRequest\": {\n          \"description\": \"Invalid request parameters\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\"$ref\": \"#/components/schemas/Error\"}\n            }\n          }\n        },\n        \"Unauthorized\": {\n          \"description\": \"Authentication required\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\"$ref\": \"#/components/schemas/Error\"}\n            }\n          }\n        },\n        \"NotFound\": {\n          \"description\": \"Resource not found\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\"$ref\": \"#/components/schemas/Error\"}\n            }\n          }\n        },\n        \"InternalServerError\": {\n          \"description\": \"Internal server error\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\"$ref\": \"#/components/schemas/Error\"}\n            }\n          }\n        }\n      }\n    }\n  },\n  \"databaseSchema\": {\n    \"tables\": [\n      {\n        \"name\": \"products\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"name\", \"type\": \"VARCHAR(255)\", \"nullable\": false},\n          {\"name\": \"description\", \"type\": \"TEXT\", \"nullable\": true},\n          {\"name\": \"price\", \"type\": \"DECIMAL(10,2)\", \"nullable\": false},\n          {\"name\": \"original_price\", \"type\": \"DECIMAL(10,2)\", \"nullable\": true},\n          {\"name\": \"discount\", \"type\": \"DECIMAL(5,2)\", \"nullable\": true, \"default\": \"0\"},\n          {\"name\": \"currency\", \"type\": \"VARCHAR(3)\", \"nullable\": false, \"default\": \"USD\"},\n          {\"name\": \"image_url\", \"type\": \"VARCHAR(500)\", \"nullable\": false},\n          {\"name\": \"image_urls\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"category_id\", \"type\": \"UUID\", \"nullable\": false},\n          {\"name\": \"brand_id\", \"type\": \"UUID\", \"nullable\": true},\n          {\"name\": \"rating\", \"type\": \"DECIMAL(3,2)\", \"nullable\": true, \"default\": \"0\"},\n          {\"name\": \"review_count\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"in_stock\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"true\"},\n          {\"name\": \"stock_count\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"tags\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"featured\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"false\"},\n          {\"name\": \"specifications\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"category_id\"], \"unique\": false},\n          {\"columns\": [\"brand_id\"], \"unique\": false},\n          {\"columns\": [\"price\"], \"unique\": false},\n          {\"columns\": [\"rating\"], \"unique\": false},\n          {\"columns\": [\"featured\"], \"unique\": false},\n          {\"columns\": [\"in_stock\"], \"unique\": false},\n          {\"columns\": [\"name\"], \"unique\": false, \"type\": \"gin\"},\n          {\"columns\": [\"created_at\"], \"unique\": false}\n        ],\n        \"foreignKeys\": [\n          {\"column\": \"category_id\", \"references\": \"categories(id)\", \"onDelete\": \"RESTRICT\"},\n          {\"column\": \"brand_id\", \"references\": \"brands(id)\", \"onDelete\": \"SET NULL\"}\n        ]\n      },\n      {\n        \"name\": \"categories\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"name\", \"type\": \"VARCHAR(100)\", \"nullable\": false},\n          {\"name\": \"slug\", \"type\": \"VARCHAR(100)\", \"nullable\": false, \"unique\": true},\n          {\"name\": \"description\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"image_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"parent_id\", \"type\": \"UUID\", \"nullable\": true},\n          {\"name\": \"featured\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"false\"},\n          {\"name\": \"sort_order\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"slug\"], \"unique\": true},\n          {\"columns\": [\"parent_id\"], \"unique\": false},\n          {\"columns\": [\"featured\"], \"unique\": false},\n          {\"columns\": [\"sort_order\"], \"unique\": false}\n        ],\n        \"foreignKeys\": [\n          {\"column\": \"parent_id\", \"references\": \"categories(id)\", \"onDelete\": \"SET NULL\"}\n        ]\n      },\n      {\n        \"name\": \"brands\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"name\", \"type\": \"VARCHAR(100)\", \"nullable\": false},\n          {\"name\": \"slug\", \"type\": \"VARCHAR(100)\", \"nullable\": false, \"unique\": true},\n          {\"name\": \"description\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"logo_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"website_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"slug\"], \"unique\": true},\n          {\"columns\": [\"name\"], \"unique\": false}\n        ],\n        \"foreignKeys\": []\n      },\n      {\n        \"name\": \"product_variants\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"product_id\", \"type\": \"UUID\", \"nullable\": false},\n          {\"name\": \"name\", \"type\": \"VARCHAR(255)\", \"nullable\": false},\n          {\"name\": \"price\", \"type\": \"DECIMAL(10,2)\", \"nullable\": false},\n          {\"name\": \"sku\", \"type\": \"VARCHAR(100)\", \"nullable\": true, \"unique\": true},\n          {\"name\": \"attributes\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"in_stock\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"true\"},\n          {\"name\": \"stock_count\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"product_id\"], \"unique\": false},\n          {\"columns\": [\"sku\"], \"unique\": true}\n        ],\n        \"foreignKeys\": [\n          {\"column\": \"product_id\", \"references\": \"products(id)\", \"onDelete\": \"CASCADE\"}\n        ]\n      },\n      {\n        \"name\": \"product_reviews\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"product_id\", \"type\": \"UUID\", \"nullable\": false},\n          {\"name\": \"user_name\", \"type\": \"VARCHAR(100)\", \"nullable\": false},\n          {\"name\": \"rating\", \"type\": \"INTEGER\", \"nullable\": false, \"check\": \"rating >= 1 AND rating <= 5\"},\n          {\"name\": \"comment\", \"type\": \"TEXT\", \"nullable\": false},\n          {\"name\": \"verified\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"false\"},\n          {\"name\": \"helpful\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"product_id\"], \"unique\": false},\n          {\"columns\": [\"rating\"], \"unique\": false},\n          {\"columns\": [\"created_at\"], \"unique\": false}\n        ],\n        \"foreignKeys\": [\n          {\"column\": \"product_id\", \"references\": \"products(id)\", \"onDelete\": \"CASCADE\"}\n        ]\n      },\n      {\n        \"name\": \"banners\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"title\", \"type\": \"VARCHAR(200)\", \"nullable\": false},\n          {\"name\": \"subtitle\", \"type\": \"VARCHAR(300)\", \"nullable\": true},\n          {\"name\": \"description\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"image_url\", \"type\": \"VARCHAR(500)\", \"nullable\": false},\n          {\"name\": \"mobile_image_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"link_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"link_text\", \"type\": \"VARCHAR(50)\", \"nullable\": true},\n          {\"name\": \"position\", \"type\": \"VARCHAR(20)\", \"nullable\": false, \"check\": \"position IN ('hero', 'secondary', 'sidebar')\"},\n          {\"name\": \"active\", \"type\": \"BOOLEAN\", \"nullable\": false, \"default\": \"true\"},\n          {\"name\": \"start_date\", \"type\": \"TIMESTAMP\", \"nullable\": true},\n          {\"name\": \"end_date\", \"type\": \"TIMESTAMP\", \"nullable\": true},\n          {\"name\": \"sort_order\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"position\"], \"unique\": false},\n          {\"columns\": [\"active\"], \"unique\": false},\n          {\"columns\": [\"sort_order\"], \"unique\": false},\n          {\"columns\": [\"start_date\", \"end_date\"], \"unique\": false}\n        ],\n        \"foreignKeys\": []\n      },\n      {\n        \"name\": \"user_preferences\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"user_id\", \"type\": \"UUID\", \"nullable\": false, \"unique\": true},\n          {\"name\": \"view_mode\", \"type\": \"VARCHAR(10)\", \"nullable\": false, \"default\": \"grid\", \"check\": \"view_mode IN ('grid', 'list')\"},\n          {\"name\": \"items_per_page\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"20\", \"check\": \"items_per_page IN (20, 40, 60)\"},\n          {\"name\": \"default_sort\", \"type\": \"VARCHAR(20)\", \"nullable\": false, \"default\": \"created_at\"},\n          {\"name\": \"default_sort_order\", \"type\": \"VARCHAR(4)\", \"nullable\": false, \"default\": \"desc\", \"check\": \"default_sort_order IN ('asc', 'desc')\"},\n          {\"name\": \"saved_filters\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"currency\", \"type\": \"VARCHAR(3)\", \"nullable\": false, \"default\": \"USD\"},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"user_id\"], \"unique\": true}\n        ],\n        \"foreignKeys\": []\n      },\n      {\n        \"name\": \"search_suggestions\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"text\", \"type\": \"VARCHAR(255)\", \"nullable\": false},\n          {\"name\": \"type\", \"type\": \"VARCHAR(20)\", \"nullable\": false, \"check\": \"type IN ('product', 'category', 'brand', 'query')\"},\n          {\"name\": \"count\", \"type\": \"INTEGER\", \"nullable\": false, \"default\": \"0\"},\n          {\"name\": \"image_url\", \"type\": \"VARCHAR(500)\", \"nullable\": true},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"},\n          {\"name\": \"updated_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"text\"], \"unique\": false, \"type\": \"gin\"},\n          {\"columns\": [\"type\"], \"unique\": false},\n          {\"columns\": [\"count\"], \"unique\": false}\n        ],\n        \"foreignKeys\": []\n      },\n      {\n        \"name\": \"analytics_events\",\n        \"columns\": [\n          {\"name\": \"id\", \"type\": \"UUID\", \"primary\": true, \"default\": \"gen_random_uuid()\"},\n          {\"name\": \"event_type\", \"type\": \"VARCHAR(50)\", \"nullable\": false},\n          {\"name\": \"timestamp\", \"type\": \"TIMESTAMP\", \"nullable\": false},\n          {\"name\": \"user_id\", \"type\": \"UUID\", \"nullable\": true},\n          {\"name\": \"session_id\", \"type\": \"VARCHAR(100)\", \"nullable\": true},\n          {\"name\": \"product_id\", \"type\": \"UUID\", \"nullable\": true},\n          {\"name\": \"category_id\", \"type\": \"UUID\", \"nullable\": true},\n          {\"name\": \"search_query\", \"type\": \"VARCHAR(255)\", \"nullable\": true},\n          {\"name\": \"filters\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"sort_by\", \"type\": \"VARCHAR(50)\", \"nullable\": true},\n          {\"name\": \"view_mode\", \"type\": \"VARCHAR(10)\", \"nullable\": true},\n          {\"name\": \"device_type\", \"type\": \"VARCHAR(10)\", \"nullable\": true, \"check\": \"device_type IN ('mobile', 'tablet', 'desktop')\"},\n          {\"name\": \"metadata\", \"type\": \"JSON\", \"nullable\": true},\n          {\"name\": \"created_at\", \"type\": \"TIMESTAMP\", \"nullable\": false, \"default\": \"NOW()\"}\n        ],\n        \"indexes\": [\n          {\"columns\": [\"event_type\"], \"unique\": false},\n          {\"columns\": [\"timestamp\"], \"unique\": false},\n          {\"columns\": [\"user_id\"], \"unique\": false},\n          {\"columns\": [\"session_id\"], \"unique\": false},\n          {\"columns\": [\"product_id\"], \"unique\": false},\n          {\"columns\": [\"category_id\"], \"unique\": false}\n        ],\n        \"foreignKeys\": [\n          {\"column\": \"product_id\", \"references\": \"products(id)\", \"onDelete\": \"SET NULL\"},\n          {\"column\": \"category_id\", \"references\": \"categories(id)\", \"onDelete\": \"SET NULL\"}\n        ]\n      }\n    ]\n  },\n  \"authentication\": {\n    \"strategy\": \"JWT\",\n    \"tokenExpiry\": \"15m\",\n    \"refreshTokenExpiry\": \"7d\",\n    \"roles\": [\"admin\", \"user\", \"guest\"],\n    \"permissions\": {\n      \"admin\": [\"read:all\", \"write:all\", \"delete:all\"],\n      \"user\": [\"read:products\", \"read:categories\", \"read:user_preferences\", \"write:user_preferences\", \"write:analytics\"],\n      \"guest\": [\"read:products\", \"read:categories\", \"write:analytics\"]\n    }\n  },\n  \"architecture\": {\n    \"pattern\": \"REST API with PostgreSQL\",\n    \"caching\": \"Redis for search suggestions, product filters, and frequently accessed data\",\n    \"fileStorage\": \"S3-compatible storage for product images and banner assets\",\n    \"search\": \"PostgreSQL full-text search with GIN indexes for product names and descriptions\",\n    \"recommendations\": [\n      \"Implement database connection pooling for high concurrent requests\",\n      \"Use CDN for image delivery and static assets\",\n      \"Implement server-side pagination with cursor-based pagination for large datasets\",\n      \"Use database partitioning for analytics_events table by timestamp\",\n      \"Implement API rate limiting per IP/user to prevent abuse\",\n      \"Add database read replicas for analytics and search queries\",\n      \"Implement proper error handling and logging for all endpoints\",\n      \"Use database transactions for operations that modify multiple tables\",\n      \"Implement proper input validation and sanitization\",\n      \"Add monitoring and alerting for API performance and errors\",\n      \"Consider implementing GraphQL for more flexible frontend queries\",\n      \"Use Redis for caching frequent filter combinations and search results\",\n      \"Implement automated database backups and disaster recovery\",\n      \"Add comprehensive API documentation with examples\",\n      \"Implement proper CORS configuration for frontend integration\"\n    ]\n  },\n  \"summary\": \"Comprehensive specification for responsive e-commerce frontend API supporting mobile, tablet, and desktop interfaces with complete product management, advanced search with instant suggestions, dynamic filtering and sorting, homepage content management, user preferences, and analytics tracking. Includes full database schema with proper indexing and relationships.\"\n}",
  "_parseError": "Failed to extract valid JSON from agent response",
  "_stopReason": "end_turn",
  "_rawResponse": true
}